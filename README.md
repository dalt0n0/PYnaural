# PYnaural - Binaural Beat Generator

A powerful and user-friendly binaural beat generator with support for multiple track types and advanced audio features.

## Features

- **Multiple Track Types**:
  - Binaural Beats
  - White/Pink/Brown Noise
  - Pure Tones
  
- **Advanced Audio Controls**:
  - Frequency Modulation
  - Isochronic Pulses
  - Stereo Panning
  - Volume Control
  
- **Export Capabilities**:
  - Save as WAV files
  - Export/Import settings as JSON

## Installation & Running

### Windows Users
1. Make sure you have Python 3.11 or later installed
2. Download or clone this repository
3. Double-click `launch.bat` - it will:
   - Create a virtual environment if needed
   - Install required dependencies
   - Launch the application

### Manual Installation
If you prefer to set things up manually:
1. Clone this repository
2. Create a virtual environment: `python -m venv env`
3. Activate the environment:
   - Windows: `env\Scripts\activate`
   - Unix/MacOS: `source env/bin/activate`
4. Install dependencies: `pip install -r requirements.txt`
5. Run: `python binaural_app.py`

## Usage

1. **Adding Tracks**:
   - Click the "➕" buttons to add different types of tracks
   - Each track can be individually configured

2. **Track Types**:
   - **Binaural Beat**: Set base frequency and beat frequency
   - **Noise**: Choose noise type and frequency range
   - **Tone**: Set frequency with optional modulation and pulses

3. **Controls**:
   - Use sliders to adjust frequencies and volumes
   - Enable/disable tracks using checkboxes
   - Set master volume and duration

4. **Panning Options**:
   - Center
   - Hard-left/right
   - Auto-pan with customizable speed and depth

5. **Exporting**:
   - Click "Export to WAV" to save your audio
   - Use "Export Settings" to save your configuration

## Requirements
- Python 3.11+
- numpy
- sounddevice
- soundfile
- scipy
- pygame
- pillow (for icon creation)

## Development
- The project uses a virtual environment for dependency management
- `launch.bat` handles environment setup and running the application
- Use `requirements.txt` for managing Python dependencies

## License
MIT License - Feel free to use and modify as needed.

## Contributing
Contributions are welcome! Please feel free to submit pull requests.

## Audio Generation Details

### Binaural Beats
Binaural beats are generated by creating two slightly different frequencies:
- **Base Frequency**: The primary tone frequency (e.g., 200 Hz)
- **Beat Frequency**: The difference between left and right channels (e.g., 7.83 Hz)
- Left channel plays (base_freq - beat_freq/2)
- Right channel plays (base_freq + beat_freq/2)
- Example: For a 200 Hz base with 7.83 Hz beat:
  - Left channel: 196.085 Hz
  - Right channel: 203.915 Hz
  - The brain perceives a 7.83 Hz beat

### Pure Tones
Pure tones are generated using sine wave oscillators:
- **Basic Mode**: Single frequency sine wave
- **Frequency Modulation**:
  - Smoothly varies frequency between min and max values
  - Adjustable modulation speed
  - Creates "sweeping" effects
- **Isochronic Pulses**:
  - Rhythmic on/off amplitude modulation
  - Adjustable pulse rate (0.5 Hz to 40 Hz)
  - Controllable pulse depth
  - Creates distinct "pulsing" effects

### Noise Generation
The application supports three types of noise:
- **White Noise**: 
  - Pure random noise
  - Equal energy across all frequencies
  - Generated using numpy's random normal distribution
  - Useful for masking unwanted sounds
- **Pink Noise**: 
  - Equal energy per octave (1/f spectrum)
  - Created using moving average filter
  - Sounds more natural than white noise
  - Often used for relaxation
- **Brown Noise**: 
  - Energy decreasing by 6dB per octave (1/f² spectrum)
  - Created using larger moving average filter
  - Deep, rumbling character
  - Similar to natural phenomena like ocean waves

### Frequency Control
- **Low Cut**: 
  - High-pass filter (removes low frequencies)
  - Range: 20 Hz to 20 kHz
  - 4th-order Butterworth filter
  - Useful for removing unwanted rumble
- **High Cut**: 
  - Low-pass filter (removes high frequencies)
  - Range: 20 Hz to 20 kHz
  - 4th-order Butterworth filter
  - Useful for softening harsh frequencies

### Panning and Spatial Effects
The application supports several panning modes:
- **Static Positions**:
  - Left: Audio only in left channel
  - Right: Audio only in right channel
  - Center: Equal volume in both channels
- **Dynamic Panning**:
  - L-R: Smooth sweep from left to right
  - R-L: Smooth sweep from right to left
  - Speed: 0.1 Hz to 2.0 Hz sweep rate
  - Depth: 0 (centered) to 1.0 (full pan)
  - Uses sine-based interpolation for smooth movement

### Audio Processing Pipeline
1. **Generation**: Create raw waveforms for each track type
2. **Filtering**: Apply frequency filters if enabled
3. **Modulation**: Apply any active modulation effects
4. **Panning**: Apply spatial positioning
5. **Mixing**: Combine all active tracks
6. **Processing**:
   - Sample rate: 44.1kHz
   - Block size: 1024 samples
   - Soft clipping for distortion prevention
   - Gain compensation for consistent volumes
   - Thread-safe generation to prevent glitches

### Technical Implementation
- Real-time audio using `sounddevice`
- Efficient array operations with `numpy`
- Digital filtering via `scipy.signal`
- Features:
  - Low-latency playback
  - Proper error handling
  - Resource cleanup
  - Thread synchronization
  - Buffer management
  - Export capabilities (WAV format) 